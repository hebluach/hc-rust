pub const RAMBAM: [(&str, &str, &str, u8); 88] = [
    (
        "Transmission of the Oral Law",
        "מסירת תורה שבעל פה",
        "TransmissionOfTheOralLaw",
        3,
    ),
    ("Positive Mitzvot", "מצוות עשה", "PositiveMitzvot", 3),
    ("Negative Mitzvot", "מצוות לא תעשה", "NegativeMitzvot", 3),
    (
        "Overview of Mishneh Torah Contents",
        "תוכן החיבור",
        "OverviewOfMishnehTorahContents",
        3,
    ),
    (
        "Foundations of the Torah",
        "הלכות יסודי התורה",
        "FoundationsOfTheTorah",
        10,
    ),
    ("Human Dispositions", "הלכות דעות", "HumanDispositions", 7),
    ("Torah Study", "הלכות תלמוד תורה", "TorahStudy", 7),
    (
        "Foreign Worship and Customs of the Nations",
        "הלכות עבודה זרה וחוקות הגויים",
        "ForeignWorshipAndCustomsOfTheNations",
        12,
    ),
    ("Repentance", "הלכות תשובה", "Repentance", 10),
    ("Reading the Shema", "הלכות קריאת שמע", "ReadingTheShema", 4),
    (
        "Prayer and the Priestly Blessing",
        "הלכות תפילה וברכת כהנים",
        "PrayerAndThePriestlyBlessing",
        15,
    ),
    (
        "Tefillin, Mezuzah and the Torah Scroll",
        "הלכות תפילין ומזוזה וספר תורה",
        "TefillinMezuzahAndTheTorahScroll",
        10,
    ),
    ("Fringes", "הלכות ציצית", "Fringes", 3),
    ("Blessings", "הלכות ברכות", "Blessings", 11),
    ("Circumcision", "הלכות מילה", "Circumcision", 3),
    ("The Order of Prayer", "סדר התפילה", "TheOrderOfPrayer", 4),
    ("Sabbath", "הלכות שבת", "Sabbath", 30),
    ("Eruvin", "הלכות עירובין", "Eruvin", 8),
    (
        "Rest on the Tenth of Tishrei",
        "הלכות שביתת עשור",
        "RestOnTheTenthOfTishrei",
        3,
    ),
    (
        "Rest on a Holiday",
        "הלכות שביתת יום טוב",
        "RestOnAHoliday",
        8,
    ),
    (
        "Leavened and Unleavened Bread",
        "הלכות חמץ ומצה",
        "LeavenedAndUnleavenedBread",
        9,
    ),
    (
        "Shofar, Sukkah and Lulav",
        "הלכות שופר וסוכה ולולב",
        "ShofarSukkahAndLulav",
        8,
    ),
    ("Sheqel Dues", "הלכות שקלים", "SheqelDues", 4),
    (
        "Sanctification of the New Month",
        "הלכות קידוש החודש",
        "SanctificationOfTheNewMonth",
        19,
    ),
    ("Fasts", "הלכות תעניות", "Fasts", 5),
    (
        "Scroll of Esther and Hanukkah",
        "הלכות מגילה וחנוכה",
        "ScrollOfEstherAndHanukkah",
        4,
    ),
    ("Marriage", "הלכות אישות", "Marriage", 25),
    ("Divorce", "הלכות גירושין", "Divorce", 13),
    (
        "Levirate Marriage and Release",
        "הלכות יבום וחליצה",
        "LevirateMarriageAndRelease",
        8,
    ),
    ("Virgin Maiden", "הלכות נערה בתולה", "VirginMaiden", 3),
    (
        "Woman Suspected of Infidelity",
        "הלכות סוטה",
        "WomanSuspectedOfInfidelity",
        4,
    ),
    (
        "Forbidden Intercourse",
        "הלכות איסורי ביאה",
        "ForbiddenIntercourse",
        22,
    ),
    (
        "Forbidden Foods",
        "הלכות מאכלות אסורות",
        "ForbiddenFoods",
        17,
    ),
    ("Ritual Slaughter", "הלכות שחיטה", "RitualSlaughter", 14),
    ("Oaths", "הלכות שבועות", "Oaths", 12),
    ("Vows", "הלכות נדרים", "Vows", 13),
    ("Nazariteship", "הלכות נזירות", "Nazariteship", 10),
    (
        "Appraisals and Devoted Property",
        "הלכות ערכים וחרמין",
        "AppraisalsAndDevotedProperty",
        8,
    ),
    ("Diverse Species", "הלכות כלאים", "DiverseSpecies", 10),
    (
        "Gifts to the Poor",
        "הלכות מתנות עניים",
        "GiftsToThePoor",
        10,
    ),
    ("Heave Offerings", "הלכות תרומות", "HeaveOfferings", 15),
    ("Tithes", "הלכות מעשרות", "Tithes", 14),
    (
        "Second Tithes and Fourth Year's Fruit",
        "הלכות מעשר שני ונטע רבעי",
        "SecondTithesAndFourthYearsFruit",
        11,
    ),
    (
        "First Fruits and other Gifts to Priests Outside the Sanctuary",
        "הלכות ביכורים ושאר מתנות כהונה שבגבולין",
        "FirstFruitsAndOtherGiftsToPriestsOutsideTheSanctuary",
        12,
    ),
    (
        "Sabbatical Year and the Jubilee",
        "הלכות שמיטה ויובל",
        "SabbaticalYearAndTheJubilee",
        13,
    ),
    (
        "The Chosen Temple",
        "הלכות בית הבחירה",
        "TheChosenTemple",
        8,
    ),
    (
        "Vessels of the Sanctuary and Those who Serve Therein",
        "הלכות כלי המקדש והעובדין בו",
        "VesselsOfTheSanctuaryAndThoseWhoServeTherein",
        10,
    ),
    (
        "Admission into the Sanctuary",
        "הלכות ביאת מקדש",
        "AdmissionIntoTheSanctuary",
        9,
    ),
    (
        "Things Forbidden on the Altar",
        "הלכות איסורי המזבח",
        "ThingsForbiddenOnTheAltar",
        7,
    ),
    (
        "Sacrificial Procedure",
        "הלכות מעשה הקרבנות",
        "SacrificialProcedure",
        19,
    ),
    (
        "Daily Offerings and Additional Offerings",
        "הלכות תמידים ומוספין",
        "DailyOfferingsAndAdditionalOfferings",
        10,
    ),
    (
        "Sacrifices Rendered Unfit",
        "הלכות פסולי המוקדשין",
        "SacrificesRenderedUnfit",
        19,
    ),
    (
        "Service on the Day of Atonement",
        "הלכות עבודת יום הכפורים",
        "ServiceOnTheDayOfAtonement",
        5,
    ),
    ("Trespass", "הלכות מעילה", "Trespass", 8),
    ("Paschal Offering", "הלכות קרבן פסח", "PaschalOffering", 10),
    ("Festival Offering", "הלכות חגיגה", "FestivalOffering", 3),
    ("Firstlings", "הלכות בכורות", "Firstlings", 8),
    (
        "Offerings for Unintentional Transgressions",
        "הלכות שגגות",
        "OfferingsForUnintentionalTransgressions",
        15,
    ),
    (
        "Offerings for Those with Incomplete Atonement",
        "הלכות מחוסרי כפרה",
        "OfferingsForThoseWithIncompleteAtonement",
        5,
    ),
    ("Substitution", "הלכות תמורה", "Substitution", 4),
    (
        "Defilement by a Corpse",
        "הלכות טומאת מת",
        "DefilementByACorpse",
        25,
    ),
    ("Red Heifer", "הלכות פרה אדומה", "RedHeifer", 15),
    (
        "Defilement by Leprosy",
        "הלכות טומאת צרעת",
        "DefilementByLeprosy",
        16,
    ),
    (
        "Those Who Defile Bed or Seat",
        "הלכות מטמאי משכב ומושב",
        "ThoseWhoDefileBedOrSeat",
        13,
    ),
    (
        "Other Sources of Defilement",
        "הלכות שאר אבות הטומאות",
        "OtherSourcesOfDefilement",
        20,
    ),
    (
        "Defilement of Foods",
        "הלכות טומאת אוכלים",
        "DefilementOfFoods",
        16,
    ),
    ("Vessels", "הלכות כלים", "Vessels", 28),
    ("Immersion Pools", "הלכות מקואות", "ImmersionPools", 11),
    (
        "Damages to Property",
        "הלכות נזקי ממון",
        "DamagesToProperty",
        14,
    ),
    ("Theft", "הלכות גניבה", "Theft", 9),
    (
        "Robbery and Lost Property",
        "הלכות גזילה ואבידה",
        "RobberyAndLostProperty",
        18,
    ),
    (
        "One Who Injures a Person or Property",
        "הלכות חובל ומזיק",
        "OneWhoInjuresAPersonOrProperty",
        8,
    ),
    (
        "Murderer and the Preservation of Life",
        "הלכות רוצח ושמירת נפש",
        "MurdererAndThePreservationOfLife",
        13,
    ),
    ("Sales", "הלכות מכירה", "Sales", 30),
    (
        "Ownerless Property and Gifts",
        "הלכות זכייה ומתנה",
        "OwnerlessPropertyAndGifts",
        12,
    ),
    ("Neighbors", "הלכות שכנים", "Neighbors", 14),
    (
        "Agents and Partners",
        "הלכות שלוחין ושותפין",
        "AgentsAndPartners",
        10,
    ),
    ("Slaves", "הלכות עבדים", "Slaves", 9),
    ("Hiring", "הלכות שכירות", "Hiring", 13),
    (
        "Borrowing and Deposit",
        "הלכות שאלה ופיקדון",
        "BorrowingAndDeposit",
        8,
    ),
    (
        "Creditor and Debtor",
        "הלכות מלווה ולווה",
        "CreditorAndDebtor",
        27,
    ),
    (
        "Plaintiff and Defendant",
        "הלכות טוען ונטען",
        "PlaintiffAndDefendant",
        16,
    ),
    ("Inheritances", "הלכות נחלות", "Inheritances", 11),
    (
        "The Sanhedrin and the Penalties within their Jurisdiction",
        "הלכות סנהדרין והעונשין המסורין להם",
        "TheSanhedrinAndThePenaltiesWithinTheirJurisdiction",
        26,
    ),
    ("Testimony", "הלכות עדות", "Testimony", 22),
    ("Rebels", "הלכות ממרים", "Rebels", 7),
    ("Mourning", "הלכות אבל", "Mourning", 14),
    ("Kings and Wars", "הלכות מלכים ומלחמות", "KingsAndWars", 12),
];

#[test]
fn check_rambam_json_title() {
    for g in RAMBAM.iter() {
        assert_eq!(
            &g.0.split(|c| c == ' ' || c == ',' || c == '\'')
                .collect::<String>()
                .to_uppercase(),
            &g.2.to_uppercase()
        );
    }
}

#[test]
fn check_json_rambam() {
    for g in RAMBAM.iter() {
        for i in g.2.chars() {
            if !i.is_alphabetic() {
                panic!("{:?} is an invalid json {}", g, i);
            }
        }
    }
}

#[test]
fn ensure_right_amount_of_perakim() {
    use chrono::DateTime;
    use chrono::Utc;
    use heca_lib::prelude::HebrewMonth;
    use heca_lib::HebrewDate;
    use std::convert::TryInto;
    use std::num::NonZeroI8;

    let last_day_of_rambam_5780 =
        HebrewDate::from_ymd(5780, HebrewMonth::Tammuz, NonZeroI8::new(17).unwrap()).unwrap();
    let day_one_of_rambam_5779: DateTime<Utc> =
        HebrewDate::from_ymd(5779, HebrewMonth::Av, NonZeroI8::new(5).unwrap())
            .unwrap()
            .try_into()
            .unwrap();
    let last_day_of_rambam_5780: DateTime<Utc> = last_day_of_rambam_5780.into();
    assert_eq!(
        RAMBAM
            .iter()
            .fold(0, |old, rambam| { old + rambam.3 as i64 }),
        ((last_day_of_rambam_5780 - day_one_of_rambam_5779).num_days() + 1) * 3
    );
}
